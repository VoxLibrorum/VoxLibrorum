<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vox Librorum</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-50 text-gray-900">
    <header class="bg-gradient-to-r from-blue-900 via-purple-900 to-blue-900 text-white shadow-md">
        <div class="container mx-auto flex flex-col md:flex-row justify-between items-center px-6 py-4">
            <div class="flex items-center space-x-3">
                <div class="bg-white bg-opacity-10 rounded-full p-3">
                    <svg class="h-8 w-8 text-yellow-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h7m3.5-4.5A2.5 2.5 0 0117 12a2.5 2.5 0 012.5 2.5v3a2.5 2.5 0 01-2.5 2.5h-2a2.5 2.5 0 01-2.5-2.5v-3z" />
                    </svg>
                </div>
                <h1 class="text-3xl font-extrabold tracking-wide">Vox Librorum</h1>
            </div>
            <nav class="mt-4 md:mt-0 space-x-4 font-medium">
                <a href="#about" class="hover:text-yellow-200 transition">About</a>
                <a href="#archive" class="hover:text-yellow-200 transition">Archive</a>
                <a href="#oral-history" class="hover:text-yellow-200 transition">Oral History</a>
                <a href="#voices" class="hover:text-yellow-200 transition">Voices</a>
                <a href="#contact" class="hover:text-yellow-200 transition">Contact</a>
            </nav>
        </div>
    </header>

    <main>
        <section class="relative overflow-hidden">
            <div class="absolute inset-0 bg-gradient-to-br from-blue-900 via-purple-800 to-indigo-900">
                <div class="absolute inset-0 opacity-20 mix-blend-soft-light" style="background-image: radial-gradient(circle at 20% 20%, rgba(255,255,255,0.3) 0, rgba(255,255,255,0) 60%), radial-gradient(circle at 80% 30%, rgba(255,255,255,0.25) 0, rgba(255,255,255,0) 55%);"></div>
            </div>
            <div class="relative container mx-auto px-6 py-20 md:py-32 text-white">
                <div class="max-w-2xl">
                    <p class="uppercase tracking-[0.35em] text-sm text-yellow-200">The Voice of Books</p>
                    <h2 class="mt-6 text-4xl md:text-5xl font-extrabold leading-tight">Where every volume finds its voice and every voice preserves a volume.</h2>
                    <p class="mt-6 text-lg md:text-xl text-indigo-100">
                        Vox Librorum is a living chorus of rare manuscripts, resonant oral histories, and collective memory. Join us as we amplify the whispers of the archive into the soundscape of today.
                    </p>
                    <div class="mt-8 flex flex-col sm:flex-row sm:space-x-4 space-y-4 sm:space-y-0">
                        <a href="#archive" class="inline-flex items-center justify-center px-6 py-3 bg-yellow-300 text-gray-900 font-semibold rounded-lg shadow hover:bg-yellow-200 transition">
                            Explore the Archive
                        </a>
                        <a href="#contact" class="inline-flex items-center justify-center px-6 py-3 border border-white/70 font-semibold rounded-lg hover:bg-white/10 transition">
                            Add Your Voice
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <section id="about" class="container mx-auto px-6 py-16">
            <div class="grid md:grid-cols-2 gap-10 items-center">
                <div>
                    <h3 class="text-3xl font-bold mb-4">About Vox Librorum</h3>
                    <p class="text-lg leading-relaxed text-gray-700">
                        "Vox Librorum" translates to "The Voice of Books." We are a collective of archivists, translators, and storytellers committed to giving rare texts and overlooked narratives a resonant future. Our digital scriptorium welcomes scholars, curious readers, and community historians alike.
                    </p>
                    <p class="mt-4 text-lg leading-relaxed text-gray-700">
                        Through meticulous preservation, contextual storytelling, and collaborative translation, we ensure that fragile pages and fleeting spoken histories continue to speak across generations.
                    </p>
                </div>
                <div class="bg-white shadow-xl rounded-2xl p-8 border border-indigo-100">
                    <h4 class="text-xl font-semibold text-gray-800 mb-3">Our guiding pillars</h4>
                    <ul class="space-y-3 text-gray-700">
                        <li class="flex items-start space-x-3">
                            <span class="text-2xl">üìö</span>
                            <span><strong>Stewardship:</strong> Preserve and digitize texts before they are lost to time.</span>
                        </li>
                        <li class="flex items-start space-x-3">
                            <span class="text-2xl">üîä</span>
                            <span><strong>Amplification:</strong> Elevate narratives through translation, annotation, and oral storytelling.</span>
                        </li>
                        <li class="flex items-start space-x-3">
                            <span class="text-2xl">ü§ù</span>
                            <span><strong>Community:</strong> Invite readers, researchers, and families to participate in the chorus.</span>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="archive" class="bg-white">
            <div class="container mx-auto px-6 py-16">
                <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-10">
                    <div>
                        <p class="uppercase text-sm tracking-widest text-indigo-500">Digital Archive</p>
                        <h3 class="text-3xl font-bold mt-2">Discover the shelves that speak</h3>
                    </div>
                    <a href="#contact" class="mt-4 md:mt-0 inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg shadow hover:bg-indigo-500 transition">
                        Request Access
                    </a>
                </div>
                <div id="archive-items" class="grid gap-8 md:grid-cols-3">
                    <p class="col-span-full text-gray-600" aria-live="polite">Loading archive highlights‚Ä¶</p>
                </div>
            </div>
        </section>

        <section id="oral-history" class="bg-gradient-to-br from-indigo-900 via-purple-900 to-blue-900 text-white">
            <div class="container mx-auto px-6 py-16">
                <div class="grid md:grid-cols-2 gap-10 items-center">
                    <div>
                        <p class="uppercase text-sm tracking-[0.35em] text-yellow-200">Oral History Studio</p>
                        <h3 class="text-3xl font-bold mt-4">Listening to the guardians of memory</h3>
                        <p class="mt-5 text-indigo-100">Our oral history project gathers the voices of bibliophiles, bookbinders, translators, and families who safeguard private collections. Each story is paired with transcripts and contextual essays.</p>
                        <div class="mt-6 grid gap-4 sm:grid-cols-2">
                            <div class="bg-white/10 rounded-xl p-4">
                                <p class="text-sm uppercase tracking-widest text-yellow-200">Featured voice</p>
                                <h4 class="text-lg font-semibold">Elena Garc√≠a</h4>
                                <p class="text-sm text-indigo-100">On translating Civil War letters for a new generation of readers.</p>
                            </div>
                            <div class="bg-white/10 rounded-xl p-4">
                                <p class="text-sm uppercase tracking-widest text-yellow-200">New arrival</p>
                                <h4 class="text-lg font-semibold">The Bindery Sessions</h4>
                                <p class="text-sm text-indigo-100">Field recordings from artisanal binderies keeping craft traditions alive.</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white text-gray-900 rounded-3xl shadow-xl p-8 space-y-4">
                        <h4 class="text-xl font-semibold">Behind the scenes</h4>
                        <ul class="space-y-3 text-gray-700">
                            <li class="flex items-start space-x-3">
                                <span class="text-indigo-600 mt-1">&#9679;</span>
                                <span>Acoustic restoration removes hiss and surface noise from fragile reels.</span>
                            </li>
                            <li class="flex items-start space-x-3">
                                <span class="text-indigo-600 mt-1">&#9679;</span>
                                <span>Multilingual transcripts with phonetic glossaries invite global listeners.</span>
                            </li>
                            <li class="flex items-start space-x-3">
                                <span class="text-indigo-600 mt-1">&#9679;</span>
                                <span>Community workshops teach families how to record and donate oral histories.</span>
                            </li>
                        </ul>
                        <a href="#contact" class="inline-flex items-center px-5 py-3 bg-indigo-600 text-white rounded-lg font-semibold hover:bg-indigo-500 transition">Nominate a storyteller</a>
                    </div>
                </div>
            </div>
        </section>

        <section id="voices" class="container mx-auto px-6 py-16">
            <div class="grid lg:grid-cols-3 gap-10">
                <div class="lg:col-span-1">
                    <p class="uppercase text-sm tracking-widest text-indigo-500">Chorus of Readers</p>
                    <h3 class="text-3xl font-bold mt-2">Echoes from the stacks</h3>
                    <p class="mt-4 text-lg text-gray-700">Selections from our community show how literature resonates in new contexts and mediums.</p>
                </div>
                <div id="voices-grid" class="lg:col-span-2 grid md:grid-cols-2 gap-8" aria-live="polite">
                    <p class="text-gray-600">Gathering community voices‚Ä¶</p>
                </div>
            </div>
        </section>

        <section class="bg-gray-900">
            <div class="container mx-auto px-6 py-16">
                <div class="grid lg:grid-cols-2 gap-12 items-center text-white">
                    <div>
                        <h3 class="text-3xl font-bold">Curator's spotlight</h3>
                        <p class="mt-4 text-lg text-gray-200">Each quarter we showcase a resonance pairing‚Äîa digitized text with a contemporary response.</p>
                        <ul id="spotlight-list" class="mt-6 space-y-4" aria-live="polite">
                            <li class="bg-white/10 rounded-xl p-5 text-gray-200">Curator highlights are tuning in‚Ä¶</li>
                        </ul>
                    </div>
                    <div class="bg-white text-gray-900 rounded-3xl shadow-xl p-8">
                        <h4 class="text-xl font-semibold">Newsletter: Resonantia</h4>
                        <p class="mt-2 text-gray-600">Sign up to receive restoration notes, curator interviews, and invitations to live listening salons.</p>
                        <form id="newsletter-form" class="mt-6 space-y-4" novalidate>
                            <div>
                                <label for="newsletter-name" class="block text-sm font-semibold text-gray-700">Name</label>
                                <input id="newsletter-name" name="name" type="text" required class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Your Name">
                            </div>
                            <div>
                                <label for="newsletter-email" class="block text-sm font-semibold text-gray-700">Email</label>
                                <input id="newsletter-email" name="email" type="email" required class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="you@example.com">
                            </div>
                            <button type="submit" class="w-full inline-flex justify-center px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg shadow hover:bg-indigo-500 transition">Subscribe</button>
                            <p id="newsletter-status" class="text-sm" role="status" aria-live="polite"></p>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <section id="contact" class="container mx-auto px-6 py-16">
            <div class="grid md:grid-cols-2 gap-12">
                <div>
                    <p class="uppercase text-sm tracking-widest text-indigo-500">Connect</p>
                    <h3 class="text-3xl font-bold mt-2">Let your voice join the library</h3>
                    <p class="mt-4 text-lg text-gray-700">Whether you steward a private collection, have recordings to share, or want to volunteer, we would love to hear from you.</p>
                    <div class="mt-6 space-y-4">
                        <div class="flex items-start space-x-3">
                            <span class="text-indigo-600 mt-1">&#9679;</span>
                            <span>Partner with us on preservation or translation initiatives.</span>
                        </div>
                        <div class="flex items-start space-x-3">
                            <span class="text-indigo-600 mt-1">&#9679;</span>
                            <span>Propose an oral history interview or community workshop.</span>
                        </div>
                        <div class="flex items-start space-x-3">
                            <span class="text-indigo-600 mt-1">&#9679;</span>
                            <span>Invite us to speak at your library, classroom, or cultural center.</span>
                        </div>
                    </div>
                </div>
                <form id="contact-form" class="bg-white rounded-3xl shadow-xl p-8 space-y-5 border border-gray-200" novalidate>
                    <div>
                        <label for="name" class="block text-sm font-bold text-gray-700 mb-1">Name</label>
                        <input type="text" id="name" name="name" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Your Name">
                    </div>
                    <div>
                        <label for="email" class="block text-sm font-bold text-gray-700 mb-1">Email</label>
                        <input type="email" id="email" name="email" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Your Email">
                    </div>
                    <div>
                        <label for="message" class="block text-sm font-bold text-gray-700 mb-1">Message</label>
                        <textarea id="message" name="message" rows="4" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Tell us about your project"></textarea>
                    </div>
                    <button type="submit" class="w-full inline-flex justify-center px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg shadow hover:bg-indigo-500 transition">Send Message</button>
                    <p id="contact-status" class="text-sm" role="status" aria-live="polite"></p>
                </form>
            </div>
        </section>
    </main>

    <footer class="bg-gradient-to-r from-blue-900 via-purple-900 to-blue-900 text-white py-6">
        <div class="container mx-auto px-6 flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0">
            <p class="text-sm">&copy; 2025 Vox Librorum. All rights reserved.</p>
            <div class="flex space-x-4 text-sm">
                <a href="#" class="hover:text-yellow-200 transition">Access Statement</a>
                <a href="#" class="hover:text-yellow-200 transition">Press Kit</a>
                <a href="#" class="hover:text-yellow-200 transition">Support Vox Librorum</a>
            </div>
        </div>
    </footer>
    <script>
        async function fetchJSON(url) {
            const response = await fetch(url);
            if (!response.ok) {
                throw new Error(`Request failed with status ${response.status}`);
            }
            return response.json();
        }

        function renderArchive(items) {
            const archiveContainer = document.getElementById('archive-items');
            archiveContainer.innerHTML = '';

            items.forEach(item => {
                const article = document.createElement('article');
                article.className = 'bg-gray-50 rounded-xl shadow p-6 border border-gray-200';

                const title = document.createElement('h4');
                title.className = 'text-xl font-semibold text-gray-800';
                title.textContent = item.title;

                const description = document.createElement('p');
                description.className = 'mt-3 text-gray-600';
                description.textContent = item.description;

                article.appendChild(title);
                article.appendChild(description);
                archiveContainer.appendChild(article);
            });
        }

        function renderVoices(entries) {
            const voicesGrid = document.getElementById('voices-grid');
            voicesGrid.innerHTML = '';

            entries.forEach(entry => {
                const card = document.createElement('div');
                card.className = 'bg-white rounded-2xl shadow-lg p-6 border border-gray-200';

                const tag = document.createElement('p');
                tag.className = 'text-sm uppercase tracking-widest text-indigo-500';
                tag.textContent = entry.tagline;

                const title = document.createElement('h4');
                title.className = 'text-xl font-semibold mt-2';
                title.textContent = entry.title;

                const description = document.createElement('p');
                description.className = 'mt-3 text-gray-600';
                description.textContent = entry.description;

                card.appendChild(tag);
                card.appendChild(title);
                card.appendChild(description);
                voicesGrid.appendChild(card);
            });
        }

        function renderSpotlight(features) {
            const spotlightList = document.getElementById('spotlight-list');
            spotlightList.innerHTML = '';

            features.forEach(feature => {
                const item = document.createElement('li');
                item.className = 'bg-white/10 rounded-xl p-5';

                const title = document.createElement('h4');
                title.className = 'text-xl font-semibold';
                title.textContent = feature.title;

                const description = document.createElement('p');
                description.className = 'text-gray-200';
                description.textContent = feature.description;

                item.appendChild(title);
                item.appendChild(description);
                spotlightList.appendChild(item);
            });
        }

        function setStatus(elementId, message, variant = 'success') {
            const element = document.getElementById(elementId);
            if (!element) return;

            let className = 'text-sm text-green-600 mt-2';

            if (variant === 'error') {
                className = 'text-sm text-red-600 mt-2';
            } else if (variant === 'info') {
                className = 'text-sm text-indigo-600 mt-2';
            }

            element.textContent = message;
            element.className = className;
        }

        function renderContentError(containerId, message) {
            const container = document.getElementById(containerId);
            if (!container) return;

            const isList = ['UL', 'OL'].includes(container.tagName);
            const elementTag = isList ? 'li' : 'p';
            const errorMessage = document.createElement(elementTag);

            if (container.classList.contains('grid')) {
                errorMessage.className = 'col-span-full text-red-600';
            } else if (isList) {
                errorMessage.className = 'bg-white/10 rounded-xl p-5 text-red-200';
            } else {
                errorMessage.className = 'text-red-600';
            }

            errorMessage.textContent = message;

            container.innerHTML = '';
            container.appendChild(errorMessage);
        }

        async function handleNewsletterSubmit(event) {
            event.preventDefault();
            const form = event.currentTarget;
            const formData = new FormData(form);
            const payload = Object.fromEntries(formData.entries());

            setStatus('newsletter-status', 'Sending your subscription‚Ä¶', 'info');

            try {
                const response = await fetch('/api/newsletter', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const data = await response.json();

                if (!response.ok) {
                    throw new Error(data.error || 'Unable to subscribe.');
                }

                form.reset();
                setStatus('newsletter-status', data.message);
            } catch (error) {
                setStatus('newsletter-status', error.message, 'error');
            }
        }

        async function handleContactSubmit(event) {
            event.preventDefault();
            const form = event.currentTarget;
            const formData = new FormData(form);
            const payload = Object.fromEntries(formData.entries());

            setStatus('contact-status', 'Sharing your message‚Ä¶', 'info');

            try {
                const response = await fetch('/api/contact', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const data = await response.json();

                if (!response.ok) {
                    throw new Error(data.error || 'Unable to send message.');
                }

                form.reset();
                setStatus('contact-status', data.message);
            } catch (error) {
                setStatus('contact-status', error.message, 'error');
            }
        }

        async function bootstrapContent() {
            try {
                const [archive, voices, spotlight] = await Promise.all([
                    fetchJSON('/api/archive'),
                    fetchJSON('/api/voices'),
                    fetchJSON('/api/spotlight')
                ]);

                renderArchive(archive.items);
                renderVoices(voices.entries);
                renderSpotlight(spotlight.features);
            } catch (error) {
                console.error('Error loading dynamic content', error);
                renderContentError('archive-items', 'We could not load archive highlights right now.');
                renderContentError('voices-grid', 'We could not retrieve the latest voices.');
                renderContentError('spotlight-list', 'Curator highlights are unavailable.');
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            const newsletterForm = document.getElementById('newsletter-form');
            const contactForm = document.getElementById('contact-form');

            if (newsletterForm) {
                newsletterForm.addEventListener('submit', handleNewsletterSubmit);
            }

            if (contactForm) {
                contactForm.addEventListener('submit', handleContactSubmit);
            }

            bootstrapContent();
        });
    </script>
</body>
</html>
